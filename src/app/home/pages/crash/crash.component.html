<app-page-title [title]="'car-crash.home.crash.overview.title' | transloco"></app-page-title>

<app-page-section
  *ngIf="crash$ | async"
  [sectionTitle]="'car-crash.home.crash.crash.data' | transloco"
  [buttonText]="'car-crash.shared.button.edit' | transloco"
  (onButtonClick)="editCrash()"
>

  <div class="row">
    <div class="col-12 col-md-6">
      <div class="d-flex align-items-center">
        <i class="bi bi-geo-alt filled-icon me-3" (click)="createCar()"></i>
        <div>
          <div>
            {{ (crash$ | async)?.place}}
          </div>
          <div>
            {{ (crash$ | async)?.country}}
          </div>
        </div>
      </div>
    </div>

    <div class="col-12 col-md-6 mt-3 mt-md-0">
      <div class="d-flex align-items-center">
        <i class="bi bi-clock filled-icon me-3" (click)="createCar()"></i>
        <div>
          <div>
            {{ (crash$ | async)?.date_of_accident}}
          </div>
        </div>
      </div>
    </div>
  </div>

</app-page-section>

<app-page-section
  *ngIf="cars$ | async"
  [sectionTitle]="'car-crash.home.crash.cars.data' | transloco"
  [buttonText]="'car-crash.home.car.invite' | transloco"
  (onButtonClick)="editCrash()"
>

  <div class="row">
    <ng-template ngFor [ngForOf]="cars$ | async" let-car>
      <div class="col-12 col-md-6 col-lg-4 mb-3 mb-md-0">
        <div class="car p-3 d-flex align-items-center h-100" [routerLink]="'cars/' + car.id">
          <i class="bi bi-car-front filled-icon me-3"></i>
          <div>
            <div class="car-type">
              <b>{{ car.car_type }}</b>
            </div>
            <div>
              {{ car.registration_plate }}
            </div>
            <div>
              {{ car.registration_country }}
            </div>
          </div>
        </div>
      </div>
    </ng-template>
    <div class="col-12 d-flex justify-content-center mt-3">
      <i class="add-button bi bi-plus-circle-fill" (click)="createCar()"></i>
    </div>
  </div>

</app-page-section>
